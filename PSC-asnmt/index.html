<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <style>
   

    table {
      font-family: Arial, Helvetica, sans-serif;
      border-collapse: collapse;
      width: 60%;
      /* margin: auto; */
      margin-top: 50px;
      text-align: center;
    }

    table td,
    table th {
      border: 1px solid #ddd;
      padding: 8px;
      text-align: center;
    }

    table tr:nth-child(even) {
      background-color: #8caacf;
    }

    table tr:hover {
      background-color: #ddd;
    }

    table th {
      padding-top: 12px;
      padding-bottom: 12px;
      text-align: left;
      background-color: #0468aa;
      color: white;
      text-align: center;
    }


    h1 {
      text-align: justify;
      font-size: 30px;
      text-transform: uppercase;
      font-family: monospace;
      color: #2b619e;
    }

    img {
      height: 100px;
      width: 100px;
    }
    button{
        border-radius: 9px;
        color: #ffffff;
        margin: 15px;
        height: 40px;
        width: auto;
        border-style: solid;
        border-width: 0px;
        margin: auto;
        font-size: 20px;
        text-transform: uppercase;
    }
    a {
        text-decoration: none;
    }
    .grp{
      display: flex;
      /* grid-template-columns: repeat(3,1fr); */
      gap: 10px;
      justify-content: space-around;
    }
   
  </style>

  <body>
    <div class="grp">
      <h1>STUDENT MANAGEMENT SYSTEM</h1>
      <button>
        <a href="./student.html">dashboard</a>
      </button>
      <div id="navbar">

      </div>
    </div>
    <div>
      <form id="studentsForm" onsubmit="data(event)">
        <label for="">Student Image</label>
        <input type="text" id="image" placeholder="enter image url" />

        <label for="">Student Name</label>
        <input type="text" id="name" placeholder="enter student name" />

        <input type="text" id="course" placeholder="enter course" />

        <select id="unit">
          <option value="unit-1">unit-1</option>
          <option value="unit-2">unit-2</option>
          <option value="unit-3">unit-3</option>
          <option value="unit-4">unit-4</option>
          <option value="unit-5">unit-5</option>
        </select>

        <select id="batch">
          <option value="FT WEB-17">FT WEB-17</option>
          <option value="FT WEB-16">FT WEB-16</option>
          <option value="FT WEB-15">FT WEB-15</option>
          <option value="FT WEB-14">FT WEB-14</option>
        </select>
        <input type="submit" />
      </form>

      <!-- <table>
        <thead>
          <tr>
            <th>Image</th>
            <th>Name</th>
            <th>Course</th>
            <th>Unit</th>
            <th>Batch</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table> -->
    </div>
  </body>
</html>
<script>
  // var form = document.querySelector("form");
  // form.addEventListener("submit", data);

  function list(i, n, c, u, b) {
    this.image = i;
    this.name = n;
    this.course = c;
    this.unit = u;
    this.batch = b;
  }

  function data(e) {
    e.preventDefault();
    // console.log("inside");
    let form = document.getElementById("studentsForm");
    let img = form.image.value;
    let name = form.name.value;
    let course = form.course.value;
    let unit = form.unit.value;
    let batch = form.batch.value;

    // console.log(img, name, course, unit, batch);

    let a = new list(img, name, course, unit, batch);

    let banu = JSON.parse(localStorage.getItem("info")) || [];
    banu.push(a);
    localStorage.setItem("info", JSON.stringify(banu));
    console.log(a);
  }

    function count() {
      let banu = JSON.parse(localStorage.getItem("info")) || [];
       //console.log(banu)

      let obj = {};

      for (let i = 0; i < banu.length; i++) {
        if (!obj[banu[i].batch]) {
          obj[banu[i].batch] = 1;
        }
        else{
          obj[banu[i].batch]=obj[banu[i].batch]+1

        }
      }
      console.log(obj);
        for(let key in obj){
            let mem=(key+":"+obj[key])
            let x=document.querySelector("#navbar")
            let p=document.createElement("h3")
            p.innerText=mem;
            x.append(p)

        }
      // for (let i = 0; i < banu.length; i++) {
      //   obj[banu[i].batch]++;
      // }
      // console.log(obj);
    }
    count();
        
       



    function nav() {
    let banu = JSON.parse(localStorage.getItem("info")) || [];
    let navbar = document.getElementById("navbar");

    banu.forEach(function (ele, index) {
      //   console.log(ele);
      // let box = document.createElement("div");

      // let nam = document.createElement("h4");
      // nam.innerText = ` ${ele.batch} ${banu.length}`;
      // // nam.innerText = `FTWEB17 ${ele.batch} ${banu.length}`;;


      box.append(nam);
      navbar.append(box);
    });
  }
  nav();



  //   function display(img, name, course, unit, batch) {
  //     let tr = document.createElement("tr");

  //     let td1 = document.createElement("td");
  //     let img = document.createElement("img");
  //     img.src =
  //       "https://cdn.pixabay.com/photo/2015/03/04/22/35/head-659652__340.png";
  //     td1.append(img);

  //     let td2 = document.createElement("td");
  //     td2.innerText = name;

  //     let td3 = document.createElement("td");
  //     td3.innerText = course;

  //     let td4 = document.createElement("td");
  //     td4.innerText = unit;

  //     let td5 = document.createElement("td");
  //     td5.innerText = batch;

  //     tr.append(td1, td2, td3, td4, td5);
  //     document.querySelector("tbody").append(tr);
  //   }

  // document.querySelector("form").addEventListener("submit", myfunction);

  // function myfunction() {
  //     event.preventDefault();

  //     var tr = document.createElement("tr");

  //     var td1 = document.createElement("td");
  //     var img = document.createElement("img");
  //     img.src = "https://cdn.pixabay.com/photo/2015/03/04/22/35/head-659652__340.png";
  //     td1.append(img);

  //     var td2 = document.createElement("td");
  //     var sname = document.createElement("p");
  //     sname.innerText = document.querySelector("#name").value;
  //     td2.append(sname);

  //     var td3 = document.createElement("td");
  //     var course = document.createElement("p");
  //     course = document.querySelector("#course").value;
  //     td3.append(course);

  //     var td4 = document.createElement("td");
  //     var unit = document.createElement("p");
  //     unit = document.querySelector("#unit").value;
  //     td4.append(unit);

  //     var td5 = document.createElement("td");
  //     var batch = document.createElement("p");
  //     batch = document.querySelector("#batch").value;
  //     td5.append(batch);

  //     tr.append(td1, td2, td3, td4, td5);

  //     document.querySelector("tbody").append(tr);
  // }
</script>
